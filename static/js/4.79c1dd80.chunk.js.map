{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","images/sun.svg","helpers/device.ts","hooks/useForm.tsx","components/LocationSearchForm.tsx","pages/content/HomePage.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","touchDevice","useForm","initialValues","fields","React","useState","map","field","reduce","prev","curr","fieldValues","setFields","onChange","e","fieldName","target","handleSubmit","handler","evt","preventDefault","states","useStyles","createUseStyles","theme","container","display","width","maxWidth","margin","citySearch","flex","stateDropdown","searchButton","fontWeight","forwardRef","ref","city","state","dispatch","useDispatch","classes","useImperativeHandle","updateValues","values","keys","forEach","addEventListener","noop","dispatchEvent","fakeEvent","onSubmit","useCallback","document","activeElement","window","blur","action","className","placeholder","aria-label","type","key","backgroundDay","flexDirection","position","top","left","right","bottom","justifyContent","content","textAlign","logoImage","filter","height","userSelect","citiesButton","transition","padding","spacing","get","background","borderRadius","curvature","small","border","boxShadow","cursor","outline","HomePage","src","sun","alt","onClick","batch","defaultCities","userActions","pinLocation","weatherActions","fetchWeather"],"mappings":"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","file":"static/js/4.79c1dd80.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/sun.e169a38b.svg\";","let touchDevice: boolean;\n\nexport function isTouchDevice() {\n\tif (touchDevice === undefined) {\n\t\ttouchDevice = 'ontouchstart' in window;\n\t}\n\treturn touchDevice;\n}\n","import { noop } from 'lodash';\nimport React from 'react';\n\ntype SubmitHandler = (params: { [fieldName: string]: string }) => void;\n\ntype FormShape = {\n\tfields: {\n\t\t[fieldName: string]: {\n\t\t\tonChange: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => void;\n\t\t\tvalue: string;\n\t\t};\n\t};\n\thandleSubmit: (handler: SubmitHandler) => (event: React.SyntheticEvent) => void;\n};\n\ntype Config = { initialValues: { [fieldName: string]: string }; fields: string[] };\n\nexport default function useForm({ initialValues, fields }: Config): FormShape {\n\tconst [fieldValues, setFields] = React.useState(\n\t\tfields.map(field => ({ [field]: initialValues[field] || '' })).reduce((prev, curr) => ({ ...prev, ...curr }), {})\n\t);\n\n\tconst setFieldValue = (fieldName: string, value: string) => setFields(fields => ({ ...fields, [fieldName]: value }));\n\n\tfunction handleSubmit(handler: SubmitHandler) {\n\t\treturn (evt: React.SyntheticEvent) => {\n\t\t\tevt.preventDefault();\n\t\t\treturn handler(fieldValues);\n\t\t};\n\t}\n\n\treturn {\n\t\tfields: fields\n\t\t\t.map(field => ({\n\t\t\t\t[field]: {\n\t\t\t\t\tonChange: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) =>\n\t\t\t\t\t\tsetFieldValue(field, e.target.value),\n\t\t\t\t\tvalue: fieldValues[field]\n\t\t\t\t}\n\t\t\t}))\n\t\t\t.reduce((prev, curr) => ({ ...prev, ...curr }), {}),\n\t\thandleSubmit\n\t};\n}\n\nexport function fakeEvent(values: any): React.ChangeEvent<HTMLInputElement> {\n\treturn {\n\t\t...values,\n\t\taddEventListener: noop,\n\t\tdispatchEvent: noop\n\t};\n}\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { push } from 'connected-react-router';\nimport { useDispatch } from 'react-redux';\nimport useForm, { fakeEvent } from '../hooks/useForm';\nimport { isTouchDevice } from '../helpers/device';\nimport { createUseStyles } from 'react-jss';\nimport { WeatherTheme } from '../theme';\n\nconst states = ['-', 'ACT', 'NSW', 'NT', 'QLD', 'SA', 'TAS', 'VIC', 'WA'];\n\ntype Props = {\n\tinitialValues?: {\n\t\t[key: string]: string;\n\t};\n};\n\nexport type LocationImperativeHandle = {\n\tupdateValues: (values: { [keyname: string]: string }) => void;\n};\n\nconst useStyles = createUseStyles<WeatherTheme>(theme => ({\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%',\n\t\tmaxWidth: '660px',\n\t\tmargin: '0 auto'\n\t},\n\tcitySearch: {\n\t\tflex: '4 1 40px',\n\t\twidth: '0'\n\t},\n\tstateDropdown: {\n\t\tflex: '0 0 80px',\n\t\twidth: '0'\n\t},\n\tsearchButton: {\n\t\tflex: '1 1 40px',\n\t\twidth: '0',\n\t\tmaxWidth: '100px',\n\t\tfontWeight: 'bold'\n\t}\n}));\n\nexport default forwardRef<LocationImperativeHandle, Props>(function LocationSearchForm(\n\t{ initialValues = { city: '', state: '-' } },\n\tref\n) {\n\tconst dispatch = useDispatch();\n\tconst classes = useStyles();\n\n\tconst { fields, handleSubmit } = useForm({\n\t\tinitialValues,\n\t\tfields: ['city', 'state']\n\t});\n\n\tuseImperativeHandle(ref, () => ({\n\t\tupdateValues: values => {\n\t\t\tObject.keys(values).forEach(fieldName => {\n\t\t\t\tfields[fieldName].onChange(fakeEvent({ target: { value: values[fieldName] } }));\n\t\t\t});\n\t\t}\n\t}));\n\n\tconst onSubmit = React.useCallback(\n\t\tvalues => {\n\t\t\tif (!values.city || !values.state) {\n\t\t\t\t// @TODO - Some sort of toast/mark field as error\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (document.activeElement && isTouchDevice()) {\n\t\t\t\t// If the device is touch enabled, the keyboard should slide away so the content can be seen\n\t\t\t\t//   This is frustrating on desktop though, so enabled only for touch devices.\n\t\t\t\t(document.activeElement as HTMLInputElement).blur();\n\t\t\t}\n\t\t\tdispatch(push(`/weather/${values.city}|${values.state}`));\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn (\n\t\t<form action=\"#\" onSubmit={handleSubmit(onSubmit)} className={classes.container}>\n\t\t\t<input\n\t\t\t\tplaceholder=\"City/Suburb\"\n\t\t\t\taria-label=\"Enter a city or suburb to search\"\n\t\t\t\tclassName={classes.citySearch}\n\t\t\t\ttype=\"text\"\n\t\t\t\t{...fields.city}\n\t\t\t/>\n\t\t\t<select className={classes.stateDropdown} {...fields.state} aria-label=\"Select a state\">\n\t\t\t\t{states.map(state => (\n\t\t\t\t\t<option value={state} key={state}>\n\t\t\t\t\t\t{state}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t\t<button className={classes.searchButton} type=\"submit\" aria-label=\"Search\">\n\t\t\t\tGo\n\t\t\t</button>\n\t\t</form>\n\t);\n});\n","import { push } from 'connected-react-router';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { batch, useDispatch } from 'react-redux';\nimport LocationSearchForm from '../../components/LocationSearchForm';\nimport { defaultCities } from '../../constants';\nimport { actions as userActions } from '../../store/user';\nimport { actions as weatherActions } from '../../store/weather';\nimport { WeatherTheme } from '../../theme';\nimport sun from '../../images/sun.svg';\n\nconst useStyles = createUseStyles((theme: WeatherTheme) => ({\n\tbackgroundDay: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tposition: 'fixed',\n\t\ttop: '0',\n\t\tleft: '0',\n\t\tright: '0',\n\t\tbottom: '0',\n\t\tjustifyContent: 'center'\n\t},\n\tcontent: {\n\t\ttextAlign: 'center',\n\t\tmargin: '-20vh auto 0',\n\t\twidth: 'calc(100% - 40px)'\n\t},\n\tlogoImage: {\n\t\tfilter: 'drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.5))',\n\t\twidth: '80px',\n\t\theight: '80px',\n\t\tuserSelect: 'none'\n\t},\n\tcitiesButton: {\n\t\ttransition: 'all 0.3s ease',\n\t\tpadding: theme.spacing.get(3, 6),\n\t\tbackground: 'rgba(255, 255, 255, 0.5)',\n\t\tborderRadius: theme.curvature.small,\n\t\tborder: 'none',\n\t\tboxShadow: '0 3px 4px -2px rgba(0, 0, 0, 0.6)',\n\t\tfontWeight: 'bold',\n\t\tcursor: 'pointer',\n\n\t\t'&:hover': {\n\t\t\tbackground: 'rgba(255, 255, 255, 0.7)',\n\t\t\tboxShadow: '0 5px 6px -2px rgba(0, 0, 0, 0.7)'\n\t\t},\n\n\t\t'&:focus, &:active': {\n\t\t\toutline: 'none'\n\t\t}\n\t}\n}));\n\nexport default function HomePage() {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\n\tconst loadCapitalCities = () => {\n\t\tbatch(() => {\n\t\t\tdefaultCities.forEach(({ city, state }) => {\n\t\t\t\tdispatch(userActions.pinLocation(city, state));\n\t\t\t\tdispatch(weatherActions.fetchWeather(city, state, true));\n\t\t\t});\n\t\t\tdispatch(push(`/weather/${defaultCities[0].city}|${defaultCities[0].state}`));\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={classes.backgroundDay}>\n\t\t\t<div className={classes.content}>\n\t\t\t\t<img src={sun} className={classes.logoImage} alt=\"\" />\n\t\t\t\t<h1>Weather Finder</h1>\n\t\t\t\t<button type=\"button\" onClick={loadCapitalCities} className={classes.citiesButton}>\n\t\t\t\t\tAustralia's Capital Cities\n\t\t\t\t</button>\n\t\t\t\t<p>or</p>\n\t\t\t\t<LocationSearchForm />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"sourceRoot":""}